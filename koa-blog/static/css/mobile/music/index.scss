


@import "public.scss";
@import "reset.scss";


body {
  overflow: hidden;
}

.music {
  position: absolute;
  width: v(750);
  height: 100%;
}

.searchBox{
  $h: 60;
  $radius: 6px;
  font-size: v(30);

  @include center_center($pos: fixed, $top: 35%);
  width: 90%;
  padding: v(20) 5%;  
  -webkit-transition: all .35s ease-out;  
  transition: all .35s ease-out;
  background: #fff;
  z-index: 999;

  .selectListBox {
    position: relative;
    display: inline-block;
    height: v($h);
    line-height: v($h);
    padding: 0 v(15);
    vertical-align: middle;
    border: 1px solid #ededed;
    border-radius: $radius 0 0 $radius;
    background: #eee;
    color: #666;

    .selectItem {
      position: absolute;
      top: v($h);
      left: v(-2);
      white-space: nowrap;
      display: none;

      li {
        padding: 0 v(15);
        width: 100%;
        -webkit-transform: rotateX(-90deg);
                transform: rotateX(-90deg);
        -webkit-transform-origin: top center;
                transform-origin: top center;
        background: #eee;

        &:last-child {
          padding-bottom: v(15);
          border-bottom-left-radius: $radius;
          border-bottom-right-radius: $radius;
        }
      }
    }
  }
  .showSelectList {
    border-bottom-left-radius: 0;
    $time: .06;
    @for $i from 1 through 7 {      
      .selectItem li:nth-child(#{$i}) {
        $s1: #{$time * $i}s;
        $s2: #{($i - 1 + .1) * $time}s;        
        -webkit-animation: ani_selectItem $s1 $s2 ease-out both;        
                animation: ani_selectItem $s1 $s2 ease-out both;
      }
    }
    .selectItem {
      display: block;
    }
    .selectItem:nth-child(1) {
      -webkit-transform: translate(10%, -20%);
              transform: translate(10%, -20%);
    }
  }

  .searchInput {
    width: auto;
    border: 1px solid #ededed;
    height: v($h);
    padding: 0 v(10);
    border-radius: 0 $radius $radius 0;
    -webkit-transition: all .5s linear;
    transition: all .5s linear;

    &:focus {
      border-color: #ddd;
      box-shadow: 0 0 15px rgba(200,200,200,.5);
    }
  }

  .searchBtn {
    display: inline-block;
    vertical-align: middle;
    margin-left: v(10);
  }

  .playListIcon {
    float: right;
  }

}

.playListIcon {
  $v: 60;
  position: relative;
  width: v($v);
  height: v($v);
  font-size: v(42);

  span {    
    width: v($v/2);
    height: v(2);
    border-top: v(2) solid #333;
    -webkit-transition: all .5s ease-out;
    transition: all .5s ease-out;
  }
  span:nth-child(1) {
    @include center($top: 30%);
    -webkit-transform-origin: left center;
            transform-origin: left center;
  }
  span:nth-child(2) {
    @include center_center;
  }

  span:nth-child(3) {
    @include center($top: 65%);
    -webkit-transform-origin: left center;
            transform-origin: left center;
  }
}
.playListShow {
  span:nth-child(1) {
    -webkit-transform: rotate(48deg);
            transform: rotate(48deg);
  }
  span:nth-child(2) {
    opacity: 0;
  }
  span:nth-child(3) {
    -webkit-transform: rotate(-48deg);
            transform: rotate(-48deg);
  }
}

.searchTop {
  top: 0;
  -webkit-transform: translate(-50%, 0);
          transform: translate(-50%, 0);
  box-shadow: 0 v(5) v(15) rgba(3,3,3,.25);
}

@-webkit-keyframes ani_selectItem {
  0%{
    -webkit-transform: rotateX(-90deg);
            transform: rotateX(-90deg);
  }
  100% {
    -webkit-transform: rotateX(0);
            transform: rotateX(0);
  }
}

@keyframes ani_selectItem {
  0%{
    -webkit-transform: rotateX(-90deg);
            transform: rotateX(-90deg);
  }
  100% {
    -webkit-transform: rotateX(0);
            transform: rotateX(0);
  }
}


.searchListBox {
  position: absolute;
  top: 0;
  left: 0;
  height: 60%;
  width: 100%;
  margin: v(110) 0 v(60);
}
.scrollBox {
  position: absolute;
  height: 100%;
  width: 75%;
  overflow-y: auto;  
  padding: 0 v(60) 0 v(100);  
  -webkit-overflow-scrolling: touch;
}

.pageBox {
  position: absolute;
  width: 100%;
  text-align: center;
  bottom: v(-80);

  a {
    display: inline-block;
    margin: 0 v(100);
    color: #333;
    font-size: v(22);
  }
}

.listBox {
  font-size: v(24);

  li {    
    list-style: decimal;
    padding: v(15) 0;
    border-bottom: 1px dotted #ddd;
  }
}


.musicBox {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  background: #333;
  color: #fff;
  overflow: hidden;
  -webkit-transform: translateY(100%);
          transform: translateY(100%);

  .musicBg {
    @include center($top: 0, $other: scale(1.5));
    -webkit-filter: blur(10px);
            filter: blur(10px);
  }
  .opacityBg {
    @include center_center;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,.7);
  }
  .playBox {
    @include center($top: 0);
    width: v(496);
    height: 100%;    

    .disc {
      @include center($pos: relative, $top: v(140));
      width: v(496);
      height: v(496);
      background: url(/images/mobile/music/disc.png) no-repeat center;
      background-size: cover;

      &:before {
        @include center($top: 0);
        content: "";
        width: v(496);
        height: v(496);
        background: url(/images/mobile/music/disc_light.png) no-repeat center;
        background-size: cover;        
      }

      .musicBoxImg {
        @include center_center;
        width: v(350);
        height: v(350);
        border-radius: 50%;
        overflow: hidden;

        img {
          display: block;
          width: 100%;
          height: 100%;
        }
      }

      .needle {
        @include center($top: v(-150), $left: 60%, $other: rotateZ(-15deg));
        width: v(168);
        height: v(244);
        background: url(/images/mobile/music/needle.png) no-repeat center;
        background-size: cover;
        -webkit-transform-origin: v(30) top;
                transform-origin: v(30) top;
        -webkit-transition: all .5s linear;
        transition: all .5s linear;
      }

      .playBtn {
        @include center_center;
        width: v(80);
        height: v(80);
        border: 2px solid #fff;
        border-radius: 50%;

        &:after {
          @include center_center($other: scale(1.5));
          content: "〓";
          display: none;
        }
        &:before {
          @include center_center($other: rotateZ(90deg) scale(1.5));
          content: "▲";
        }
      }
    }    

    .playStatus {
      .needle {
        @include center($top: v(-150), $left: 60%, $other: rotateZ(5deg));
      }
      .playBtn {
        &:after {
          display: block;
        }
        &:before {
          display: none;
        }
      }
    }
  }

  $v: 80;
  .closeMusicBox {
    position: absolute;
    right: 0;
    top: 0;
    width: v($v);
    height: v($v);
    line-height: v($v);
    text-align: center;
    font-size: v(30);
  }

  .lyricBox {
    position: absolute;
    left: 0;
    bottom: v(20);
    padding: 0 10%;
    width: 80%;
    height: 32%;
    text-align: center;
    overflow-y: auto;
    font-size: v(24);
    -webkit-overflow-scrolling: touch;

    p {
      margin: v(10) 0;

      &:last-child {
        margin-bottom: v(150);
      }
    }    
    .lyricCurrent {
      color: #f44;
    }
  }
}

.openMusicBoxStatus {
  -webkit-animation: ani_openMusicBoxStatus .5s ease-out both;
          animation: ani_openMusicBoxStatus .5s ease-out both;
}
@-webkit-keyframes ani_openMusicBoxStatus {
  0% {
    -webkit-transform: translateY(100%);
            transform: translateY(100%);
  }
  100% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
  }
}
@keyframes ani_openMusicBoxStatus {
  0% {
    -webkit-transform: translateY(100%);
            transform: translateY(100%);
  }
  100% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
  }
}


.playListBox {
  @extend .searchListBox;
  height: 80%;
  background: #eee;
  -webkit-animation: playListBox_ani .5s ease-out both;
          animation: playListBox_ani .5s ease-out both;

  h5 {
    margin: v(10) v(30);
  }
}

@-webkit-keyframes playListBox_ani {
  0% {
    -webkit-transform: translateY(-100%);
            transform: translateY(-100%);
  }
  100% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
  }
}

@keyframes playListBox_ani {
  0% {
    -webkit-transform: translateY(-100%);
            transform: translateY(-100%);
  }
  100% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
  }
}




.loadBox {
  position: absolute;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,.25) url(/images/load.gif) no-repeat center;
  background-size: v(31*2);
  z-index: 99999;
}
